<script>
    var outputContainer;

    function init() {
        var video,
            player,
            url = 'https://thekhayal-prod-dub-ak.akamaized.net/out/v1/c82a0a3ff78c44938d6536104e5f0a7e/index.mpd';

        video = document.querySelector('video');
        player = dashjs.MediaPlayer().create();
        player.initialize(video, url, true);
        outputContainer = document.getElementById('output-container');
        player.on('internalManifestLoaded', showEvent)
    }


    function showEvent(e) {
        outputContainer.innerHTML = "";
        for (var name in e) {

            if (typeof e[name] != 'object') {
                log('    ' + name + ': ' + e[name]);
            }
        }
        for (name in e) {
            if (typeof e[name] == 'object') {
                log('    ' + name + ':');
                for (name2 in e[name]) {
                    log('        ' + name2 + ': ' + JSON.stringify(e[name][name2]));
                }
            }
        }
    }

    function log(msg) {
        msg = msg.length > 90 ? msg.substring(0, 90) + '...' : msg;
        outputContainer.innerHTML += msg + '\n';
        outputContainer.scrollTop = outputContainer.scrollHeight;
    }
</script>
